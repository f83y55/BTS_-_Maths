:root {
  /* Theme 1 */
  --font-size-web: 16pt;
  --font-size-print: 10pt;
  --color-bg: #eee;
  --color-bg-hover: #fff;
  --color-section : darkred;
  --color-subsection : darkgreen;
  --color-subsubsection : darkviolet;
  --color-exo: #103050;
  --color-defi: #503010;
  --color-bg-defi : #fbb332;
  --color-bg-exo : #33a5ee;
  --color-bg-surl : #00ff00;
  --color-bg-table-1 : #bbb;
  --color-bg-table-2 : #ccc;
  --color-bg-table-3 : #ddd;
  --margin : 0.3em;
  --transition-speed: 700ms;
}




body, .subbody{
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  overflow-x: auto;
  font-family: Ubuntu, Verdana, Geneva, Tahoma, sans-serif;
  font-size: var(--font-size-web);
  line-height: 1.6;
  background-color: var(--color-bg);
  counter-reset: section exo defi prop theo rema exem;
}

.subbody:hover {
  transition: none;
}

div:hover:not(.subbody) {
    transition: background-image var(--transition-speed) ease-in-out;
    background-image: linear-gradient(-90deg, rgba(255,255,255,0.5) 90%, rgba(255,255,255,0.9) 100%);
}

a {
    color: inherit;
    text-decoration: underline;
}

figure {
    backdrop-filter: blur(1em);
    text-align: center;
    float: right;
    font-size: smaller;
    font-style: italic;
}

img {
    float: right;
    max-height: 45vh;
    max-width: 30vw;
    transition-duration: var(--transition-speed);
}

img:active {
    max-height: 40vh;
    max-width: 40vw;
    background-color: var(--color-bg);
    transform: scale(2, 2) translate(-25%, 0);
    -ms-transform: scale(2, 2) translate(-25%, 0);
    -webkit-transform: scale(2, 2) translate(-25%, 0);
    transition-duration: var(--transition-speed);
}

.titre {
    text-align: center;
    background-image: linear-gradient(45deg, var(--color-subsection) 25%, var(--color-subsubsection) 100%);
    border: 0.2em solid;
    box-shadow: 0.3em 0.3em 0.3em grey;
    border-color: var(--color-section);
    border-radius: 0.2em;
    margin: var(--margin);
    counter-reset: section exo defi prop theo rema exem;
}

.section, section {
    color: var(--color-section);
    margin: var(--margin) ;
    counter-reset: subsection subsubsection ;
}
.section::before, section::before {
    counter-increment: section;
    content: counter(section) ". ";
}

.section-nocounter {
    color: var(--color-section);
    margin: var(--margin) ;
}

.section::before, section::before {
    counter-increment: section;
    content: counter(section) ". ";
}

.subsection {
    color: var(--color-subsection);
    margin: var(--margin);
    counter-reset: subsubsection ;
}

.subsection::before {
    counter-increment: subsection;
    content: counter(section) "." counter(subsection) ". "; 
}

.subsection-nocounter {
    color: var(--color-subsection);
    margin: var(--margin) ;
}

.subsubsection {
    color: var(--color-subsubsection);
    margin: var(--margin);
}
.subsubsection::before {
    counter-increment: subsubsection;
    content: counter(section) "." counter(subsection) "." counter(subsubsection) ". "; 
}

.subsubsection-nocounter {
    color: var(--color-subsubsection);
    margin: var(--margin) ;
}

.exo {
    color: var(--color-exo);
    background-color: var(--color-bg-exo);
    padding: 0.5em;
    margin: var(--margin);
    border: solid 1px;
    border-radius: 0.2em;
    counter-increment: exo;
}
.exo::before {
    font-weight: bold;
    content: "Exercice " counter(exo) " : "; 
}
.exo-nocounter {
    color: var(--color-exo);
    background-color: var(--color-bg-exo);
    padding: 0.5em;
    margin: var(--margin);
    border: solid 1px;
    border-radius: 0.2em;
}

.defi {
    color: var(--color-defi);
    font-style: italic;
    background-color: var(--color-bg-defi);
    padding: 0.5em;
    margin: var(--margin);
    border: solid 1px;
    border-radius: 0.2em;
    counter-increment: defi;
}

.defi::before {
    font-weight: bold;
    content: "Définition " counter(defi) " : "; 
}

.prop{
    counter-increment: prop;
}

.prop::before {
    font-weight: bold;
    content: "Propriété " counter(prop) " : "; 
}

.theo {
    color: var(--color-defi);
    background-color: var(--color-bg-defi);
    padding: 0.5em;
    margin: var(--margin);
    border: solid 1px;
    border-radius: 0.2em;
    box-shadow: 0.5em 0.5em 0.5em gray;
    counter-increment: theo;
}

.theo::before {
    font-weight: bold;
    content: "Théorème " counter(theo) " : ";
}

.rema {
    counter-increment: rema;
}

.rema::before {
    font-weight: bold;
    content: "Remarque " counter(rema) " : "; 
}

.exem {
    counter-increment: exem;
}
.exem::before {
    font-weight: bold;
    content: "Exemple " counter(exem) " : "; 
}

.meth {
    color : darkgreen;
    counter-increment: meth;
}
.meth::before {
    font-weight: bold;
    content: "Méthode " counter(meth) " : "; 
}

.surl {
    background-color: var(--color-bg-surl) ;
    padding: 0.5em;
}

.mytable{
    float: right;
    border-collapse: collapse;
}

.mytable tr:nth-child(even) {background: var(--color-bg-table-2)}
.mytable tr:nth-child(odd) {background: var(--color-bg-table-3)}

.mytable th{
    text-align: center;
    background-color: var(--color-bg-table-1);
    border: 2px solid black;
    padding: 0.5em;
}

.mytable td{
    text-align: center;
    border: 1px solid black;
    padding: 0.5em;
}



@media (max-width: 600px) {
    img, img:active, figure, .mytable {
        float: unset;
        max-width: 100vh;
        max-height: 100vw;
        transform: none;
        -ms-transform: none;
        -webkit-transform: none;
        transition: none;
        background: none;
        overflow-x: scroll;
    }
    .mytable {
        font-size:x-small;
    }

}

@page { 
    size: A4;
    margin-top: 2em;
    margin-bottom: 2em;
}

@media print {
    html, body, .subbody {
        display: block;
        font-family: 'Times New Roman', Times, serif, Verdana, Helvetica, sans-serif;
        font-size: var(--font-size-print);
    }
    /*body {
        max-width: 210mm;
        max-height: 297mm;
    }*/
    .pagebreak { 
        page-break-before: always; 
    }
    
    div {
        break-inside: avoid;
    }

    .titre, h1, h2, h3, h4, h5 {
        page-break-after: avoid;
    }

    .titre {
        margin-bottom: 1em;
    }

    .mytable, table, figure, img {
        background-color: white;
        page-break-inside: avoid;
        display: inline-block;
        max-width: 10cm;
        max-height: 10cm;
    }
    
    .surl {
        border: solid 0.2em;
        border-color: var(--color-bg-surl);
        border-radius: 0.1em;
    }
    /* ... the rest of the rules ... */
}
